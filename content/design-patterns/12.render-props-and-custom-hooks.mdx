---
title: Render Props & Custom Hooks
description: HOCì˜ ëŒ€ì•ˆì´ì ë³´ì™„, ë¡œì§ ê³µìœ ì˜ í˜„ëŒ€ì  ì ‘ê·¼ ë°©ì‹ì— ëŒ€í•´ ì•Œì•„ë´…ë‹ˆë‹¤.
---

# Render Props & Custom Hooks: ë¡œì§ ê³µìœ ì˜ í˜„ëŒ€ì  ì ‘ê·¼

<Callout type="info" title="í•µì‹¬ ìš”ì•½">
  **Render Props**ì™€ **Custom Hooks**ëŠ” ì»´í¬ë„ŒíŠ¸ ê°„ì— **ìƒíƒœ ê´€ë ¨ ë¡œì§**ì„ ì¬ì‚¬ìš©í•˜ê¸° ìœ„í•œ íŒ¨í„´ì…ë‹ˆë‹¤. 
  HOC(Higher-Order Components)ê°€ ê²ªì—ˆë˜ 'Wrapper Hell'ê³¼ 'ì´ë¦„ ì¶©ëŒ' ë¬¸ì œë¥¼ í•´ê²°í•˜ë©°, ë” ì§ê´€ì ì´ê³  ìœ ì—°í•œ ì½”ë“œ ì‘ì„±ì„ ë„ì™€ì¤ë‹ˆë‹¤.
</Callout>

ë¦¬ì•¡íŠ¸ ê°œë°œìë“¤ì˜ ì˜ì›í•œ ìˆ™ì œëŠ” "ì–´ë–»ê²Œ í•˜ë©´ ì´ ë¡œì§ì„ ê¹”ë”í•˜ê²Œ ì¬ì‚¬ìš©í• ê¹Œ?"ì…ë‹ˆë‹¤. 
Mixinì—ì„œ ì‹œì‘í•´ HOCë¥¼ ê±°ì³, ì´ì œëŠ” **Render Props**ì™€ **Custom Hooks**ê°€ ê·¸ í•´ë‹µì´ ë˜ì—ˆìŠµë‹ˆë‹¤.

íŠ¹íˆ Custom HooksëŠ” ë¦¬ì•¡íŠ¸ 16.8(Hooks ë„ì…) ì´í›„ ì‚¬ì‹¤ìƒ **í‘œì¤€(Standard)**ì´ ë˜ì—ˆì£ . ì™œ ê·¸ëŸ´ê¹Œìš”?

## 1. Render Props: "ë¬´ì—‡ì„ ê·¸ë¦´ì§€ ë„¤ê°€ ì •í•´"

Render PropsëŠ” ì»´í¬ë„ŒíŠ¸ì˜ propìœ¼ë¡œ **í•¨ìˆ˜**ë¥¼ ì „ë‹¬í•˜ê³ , ê·¸ í•¨ìˆ˜ê°€ ë¬´ì—‡ì„ ë Œë”ë§í• ì§€ ê²°ì •í•˜ê²Œ í•˜ëŠ” íŒ¨í„´ì…ë‹ˆë‹¤.
ì´ë¦„ ê·¸ëŒ€ë¡œ 'ë Œë”ë§ì„ ìœ„í•œ Props'ì¸ ì…ˆì´ì£ .

### ê¸°ë³¸ ê°œë…

ì»´í¬ë„ŒíŠ¸ê°€ ë°ì´í„°ë¥¼ ê°€ì§€ê³  ìˆì§€ë§Œ, ê·¸ ë°ì´í„°ë¡œ **ì–´ë–¤ UIë¥¼ ê·¸ë¦´ì§€**ëŠ” ë¶€ëª¨ì—ê²Œ ë§¡ê¹ë‹ˆë‹¤.

```tsx
// MouseTracker.tsx
interface MouseTrackerProps {
  render: (position: { x: number; y: number }) => React.ReactNode;
}

const MouseTracker = ({ render }: MouseTrackerProps) => {
  const [position, setPosition] = useState({ x: 0, y: 0 });

  // ... ë§ˆìš°ìŠ¤ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë¡œì§ (ìƒëµ) ...

  // UI ë Œë”ë§ì„ 'render' prop í•¨ìˆ˜ì—ê²Œ ìœ„ì„!
  return <div>{render(position)}</div>;
};

// ì‚¬ìš©ì²˜
<MouseTracker render={({ x, y }) => (
  <h1>ë§ˆìš°ìŠ¤ ìœ„ì¹˜: {x}, {y}</h1>
)} />
```

<Callout type="success" title="ì¥ì ">
  - **ìœ ì—°ì„±**: ë°ì´í„°ë¥¼ ì–´ë–»ê²Œ í‘œí˜„í• ì§€ ì‚¬ìš©ìê°€ ì™„ë²½í•˜ê²Œ ì œì–´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  - **ëª…ì‹œì„±**: ë°ì´í„°ê°€ ì–´ë””ì„œ ì˜¤ëŠ”ì§€ ì½”ë“œìƒì—ì„œ ë°”ë¡œ ë³´ì…ë‹ˆë‹¤ (`render` í•¨ìˆ˜ì˜ ì¸ì).
  - **ì´ë¦„ ì¶©ëŒ ì—†ìŒ**: HOCì²˜ëŸ¼ props ì´ë¦„ì´ ê²¹ì¹  ê±±ì •ì´ ì—†ìŠµë‹ˆë‹¤.
</Callout>

í•˜ì§€ë§Œ Render Propsë„ ê³¼í•˜ê²Œ ì‚¬ìš©í•˜ë©´ **Callback Hell** ì²˜ëŸ¼ ì½”ë“œê°€ ê¹Šì–´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```tsx
<UserProvider render={user => (
  <ThemeProvider render={theme => (
    <Router render={route => (
      <App user={user} theme={theme} route={route} />
    )} />
  )} />
)} />
```

ì´ëŸ° ëª¨ì–‘ìƒˆ, ì© ë‹¬ê°‘ì§€ ì•Šì£ ? ğŸ˜…

## 2. Custom Hooks: "ê·¸ëƒ¥ í•¨ìˆ˜ ì“°ë“¯ì´"

Hooksì˜ ë“±ì¥ì€ ê²Œì„ ì²´ì¸ì €ì˜€ìŠµë‹ˆë‹¤. ì»´í¬ë„ŒíŠ¸ ê³„ì¸µ êµ¬ì¡°ë¥¼ ê±´ë“œë¦¬ì§€ ì•Šê³ ë„ ìƒíƒœ ë¡œì§ì„ ë§ˆë²•ì²˜ëŸ¼ êº¼ë‚´ ì“¸ ìˆ˜ ìˆê²Œ ë˜ì—ˆìœ¼ë‹ˆê¹Œìš”.

### Hooksë¡œì˜ ì „í™˜

ìœ„ì˜ `MouseTracker` ë¡œì§ì„ Hookìœ¼ë¡œ ì˜®ê¸°ë©´ ì–´ë–»ê²Œ ë ê¹Œìš”?

```tsx
// useMousePosition.ts
const useMousePosition = () => {
  const [position, setPosition] = useState({ x: 0, y: 0 });

  useEffect(() => {
    const updateMouse = (e: MouseEvent) => {
      setPosition({ x: e.clientX, y: e.clientY });
    };
    window.addEventListener('mousemove', updateMouse);
    return () => window.removeEventListener('mousemove', updateMouse);
  }, []);

  return position;
};

// ì‚¬ìš©ì²˜
const App = () => {
  const { x, y } = useMousePosition(); // ê·¸ëƒ¥ í•¨ìˆ˜ í˜¸ì¶œ!
  return <h1>ë§ˆìš°ìŠ¤ ìœ„ì¹˜: {x}, {y}</h1>;
};
```

<div className="grid grid-cols-1 md:grid-cols-2 gap-4 my-6">
  <Card title="êµ¬ì¡°ì˜ ë‹¨ìˆœí™”" icon={<Icon name="Layout" className="text-blue-500" />}>
    ì»´í¬ë„ŒíŠ¸ íŠ¸ë¦¬ë¥¼ ê°ì‹¸ê±°ë‚˜ ì¤‘ì²©í•  í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤. ë¡œì§ì´ í•„ìš”í•œ ê³³ì—ì„œ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ê¸°ë§Œ í•˜ë©´ ë©ë‹ˆë‹¤.
  </Card>
  <Card title="íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ì¹œí™”ì " icon={<Icon name="FileCode" className="text-blue-500" />}>
    ì¼ë°˜ í•¨ìˆ˜ì´ë¯€ë¡œ íƒ€ì… ì¶”ë¡ ì´ ìì—°ìŠ¤ëŸ½ê³ , ì œë„¤ë¦­ì„ í™œìš©í•˜ê¸°ë„ í›¨ì”¬ ì‰½ìŠµë‹ˆë‹¤.
  </Card>
</div>

## 3. ë¹„êµ: HOC vs Render Props vs Custom Hooks

ê°™ì€ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ì„¸ ê°€ì§€ ë°©ë²•ì˜ ì°¨ì´ë¥¼ ì½”ë“œë¡œ ëŠê»´ë³´ì„¸ìš”.

<Tabs defaultValue="hooks">
  <TabsList>
    <TabsTrigger value="hoc">HOC (ê³¼ê±°)</TabsTrigger>
    <TabsTrigger value="render-props">Render Props</TabsTrigger>
    <TabsTrigger value="hooks">Custom Hooks (í˜„ëŒ€)</TabsTrigger>
  </TabsList>
  
  <TabsContent value="hoc">
    ```tsx
    // ë°ì´í„°ê°€ ì–´ë””ì„œ ì™”ëŠ”ì§€ propsë§Œ ë³´ê³ ëŠ” ì•Œê¸° ì–´ë ¤ì›€
    // props ë„¤ì´ë° ì¶©ëŒ ê°€ëŠ¥ì„± ìˆìŒ
    const MyComponent = ({ data, isLoading }) => {
      if (isLoading) return <Spinner />;
      return <div>{data}</div>;
    };

    export default withAuth(withData(MyComponent));
    ```
  </TabsContent>
  
  <TabsContent value="render-props">
    ```tsx
    // ë°ì´í„°ì˜ ì¶œì²˜ëŠ” ëª…í™•í•˜ì§€ë§Œ ì½”ë“œê°€ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ë°€ë ¤ë‚¨
    const MyComponent = () => (
      <DataProvider render={({ data, isLoading }) => (
        <AuthProvider render={({ user }) => (
           isLoading ? <Spinner /> : <div>{user.name}: {data}</div>
        )} />
      )} />
    );
    ```
  </TabsContent>
  
  <TabsContent value="hooks">
    ```tsx
    // í‰íƒ„í•œ êµ¬ì¡°(Flat), ëª…ì‹œì  ì¶œì²˜, ë³€ìˆ˜ëª… ë³€ê²½ ììœ ë¡œì›€
    const MyComponent = () => {
      const { user } = useAuth();
      const { data, isLoading } = useData();

      if (isLoading) return <Spinner />;
      return <div>{user.name}: {data}</div>;
    };
    ```
  </TabsContent>
</Tabs>

## 4. í˜„ì‹¤ ì‹œë‚˜ë¦¬ì˜¤ (Real-world Scenarios)

í˜„ì—…ì—ì„œ Custom HooksëŠ” ì–´ë””ì— ì“°ì¼ê¹Œìš”? ë‹¨ìˆœíˆ `useState` ëª‡ ê°œ ë¬¶ëŠ” ê²ƒì„ ë„˜ì–´ì„  íŒ¨í„´ë“¤ì…ë‹ˆë‹¤.

### ğŸ› ï¸ ë°ì´í„° í˜ì¹­ (Data Fetching)
ê°€ì¥ í”í•œ íŒ¨í„´ì…ë‹ˆë‹¤. ë¡œë”© ìƒíƒœ, ì—ëŸ¬ ì²˜ë¦¬, ë°ì´í„° ìºì‹±ì„ ìº¡ìŠí™”í•©ë‹ˆë‹¤.
`React Query`ë‚˜ `SWR`ì´ ë°”ë¡œ ì´ íŒ¨í„´ì˜ ì •ì ì— ìˆëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ì´ì£ .

```tsx
const { data, error, isLoading } = useFetch('/api/users');
```

### ğŸ“ í¼ ê´€ë¦¬ (Form Management)
ì…ë ¥ê°’ ìƒíƒœ, ìœ íš¨ì„± ê²€ì‚¬, ì œì¶œ ì²˜ë¦¬ë¥¼ í•˜ë‚˜ë¡œ ë¬¶ìŠµë‹ˆë‹¤.
`react-hook-form`ì²˜ëŸ¼ìš”.

```tsx
const { register, handleSubmit, errors } = useForm();
```

### ğŸ® ë³µì¡í•œ UI ì œì–´ (UI Logic)
ëª¨ë‹¬, ë“œë¡­ë‹¤ìš´, í† ìŠ¤íŠ¸ ë©”ì‹œì§€ ë“±ì˜ ìƒíƒœ ë¡œì§ì„ ë¶„ë¦¬í•˜ì—¬ UI ì»´í¬ë„ŒíŠ¸ëŠ” ì˜¤ì§ 'ê·¸ë¦¬ê¸°'ì—ë§Œ ì§‘ì¤‘í•˜ê²Œ í•©ë‹ˆë‹¤.

```tsx
// ëª¨ë‹¬ ë¡œì§ì„ ë¶„ë¦¬
const loginModal = useModal();
const signupModal = useModal();

return (
  <>
    <button onClick={loginModal.open}>ë¡œê·¸ì¸</button>
    <button onClick={signupModal.open}>íšŒì›ê°€ì…</button>
    
    <Modal {...loginModal.props}>ë¡œê·¸ì¸ í¼...</Modal>
    <Modal {...signupModal.props}>íšŒì›ê°€ì… í¼...</Modal>
  </>
);
```

## 5. ì‹¤ì „ Custom Hooks êµ¬í˜„

ì¶”ìƒì ì¸ ì´ì•¼ê¸°ëŠ” ì´ì¯¤ í•˜ê³ , ì‹¤ì œë¡œ ìœ ìš©í•œ Hookë“¤ì„ ë§Œë“¤ì–´ ë´…ì‹œë‹¤.

### useDebounce: ê²€ìƒ‰ì°½ì˜ í•„ìˆ˜í’ˆ

ê²€ìƒ‰ì°½ì—ì„œ ì‚¬ìš©ìê°€ íƒ€ì´í•‘í•  ë•Œë§ˆë‹¤ APIë¥¼ í˜¸ì¶œí•˜ë©´ ì„œë²„ê°€ ì£½ìŠµë‹ˆë‹¤. 
ì…ë ¥ì´ ë©ˆì¶˜ í›„ ì¼ì • ì‹œê°„(ì˜ˆ: 500ms)ì´ ì§€ë‚˜ë©´ ê·¸ë•Œ ê²€ìƒ‰í•˜ëŠ” ê²ƒì´ ì¢‹ì£ .

```tsx
function useDebounce<T>(value: T, delay: number = 500): T {
  const [debouncedValue, setDebouncedValue] = useState<T>(value);

  useEffect(() => {
    // íƒ€ì´ë¨¸ ì„¤ì •: delay í›„ì— ê°’ ì—…ë°ì´íŠ¸
    const timer = setTimeout(() => {
      setDebouncedValue(value);
    }, delay);

    // cleanup: ê°’ì´ ë³€ê²½ë˜ë©´ ì´ì „ íƒ€ì´ë¨¸ ì·¨ì†Œ
    return () => clearTimeout(timer);
  }, [value, delay]);

  return debouncedValue;
}

// ì‚¬ìš© ì˜ˆì‹œ
function SearchInput() {
  const [searchTerm, setSearchTerm] = useState('');
  const debouncedSearch = useDebounce(searchTerm, 500);

  useEffect(() => {
    if (debouncedSearch) {
      // ì‹¤ì œ API í˜¸ì¶œì€ ì—¬ê¸°ì„œë§Œ!
      fetchSearchResults(debouncedSearch);
    }
  }, [debouncedSearch]);

  return <input value={searchTerm} onChange={(e) => setSearchTerm(e.target.value)} />;
}
```

<Callout type="note" title="íƒ€ì´ë°ì´ ì „ë¶€">
  `useDebounce`ëŠ” **ì‚¬ìš©ì ê²½í—˜**ê³¼ **ì„œë²„ ë¶€í•˜** ì‚¬ì´ì˜ ê· í˜•ì„ ì¡ì•„ì¤ë‹ˆë‹¤. 
  ê²€ìƒ‰ì°½, ìë™ì™„ì„±, ì‹¤ì‹œê°„ ìœ íš¨ì„± ê²€ì‚¬ ë“± ì…ë ¥ ì´ë²¤íŠ¸ê°€ ë¹ˆë²ˆí•œ ê³³ì—ì„œ í•„ìˆ˜ì…ë‹ˆë‹¤.
</Callout>

### useLocalStorage: ìƒíƒœë¥¼ ë¸Œë¼ìš°ì €ì— ì €ì¥

í…Œë§ˆ ì„¤ì •, ì‚¬ìš©ì í™˜ê²½ì„¤ì • ë“±ì„ í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•´ë„ ìœ ì§€í•˜ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.

```tsx
function useLocalStorage<T>(key: string, initialValue: T) {
  // ì´ˆê¸°ê°’: localStorageì—ì„œ ì½ì–´ì˜¤ê±°ë‚˜ initialValue ì‚¬ìš©
  const [storedValue, setStoredValue] = useState<T>(() => {
    if (typeof window === 'undefined') return initialValue; // SSR ëŒ€ì‘
    
    try {
      const item = window.localStorage.getItem(key);
      return item ? JSON.parse(item) : initialValue;
    } catch (error) {
      console.error(`Error loading localStorage key "${key}":`, error);
      return initialValue;
    }
  });

  // ê°’ ì—…ë°ì´íŠ¸ ì‹œ localStorageì—ë„ ì €ì¥
  const setValue = (value: T | ((val: T) => T)) => {
    try {
      const valueToStore = value instanceof Function ? value(storedValue) : value;
      setStoredValue(valueToStore);
      
      if (typeof window !== 'undefined') {
        window.localStorage.setItem(key, JSON.stringify(valueToStore));
      }
    } catch (error) {
      console.error(`Error setting localStorage key "${key}":`, error);
    }
  };

  return [storedValue, setValue] as const;
}

// ì‚¬ìš© ì˜ˆì‹œ
function ThemeToggle() {
  const [theme, setTheme] = useLocalStorage<'light' | 'dark'>('theme', 'light');

  return (
    <button onClick={() => setTheme(theme === 'light' ? 'dark' : 'light')}>
      í˜„ì¬ í…Œë§ˆ: {theme}
    </button>
  );
}
```

### useIntersectionObserver: ë¬´í•œ ìŠ¤í¬ë¡¤ì˜ í•µì‹¬

ìŠ¤í¬ë¡¤ì´ íŠ¹ì • ì§€ì ì— ë„ë‹¬í–ˆëŠ”ì§€ ê°ì§€í•˜ëŠ” ë¡œì§ì…ë‹ˆë‹¤. ë¬´í•œ ìŠ¤í¬ë¡¤, Lazy Loading ì´ë¯¸ì§€ ë“±ì— ì‚¬ìš©ë©ë‹ˆë‹¤.

```tsx
function useIntersectionObserver(
  elementRef: RefObject<Element>,
  options?: IntersectionObserverInit
) {
  const [isIntersecting, setIsIntersecting] = useState(false);

  useEffect(() => {
    const element = elementRef.current;
    if (!element) return;

    const observer = new IntersectionObserver(([entry]) => {
      setIsIntersecting(entry.isIntersecting);
    }, options);

    observer.observe(element);

    return () => observer.disconnect();
  }, [elementRef, options]);

  return isIntersecting;
}

// ì‚¬ìš© ì˜ˆì‹œ: ë¬´í•œ ìŠ¤í¬ë¡¤
function InfiniteList() {
  const [items, setItems] = useState<Item[]>([]);
  const [page, setPage] = useState(1);
  const bottomRef = useRef<HTMLDivElement>(null);
  
  const isBottom = useIntersectionObserver(bottomRef, {
    threshold: 1.0, // 100% ë³´ì¼ ë•Œ íŠ¸ë¦¬ê±°
  });

  useEffect(() => {
    if (isBottom) {
      loadMoreItems(page).then(newItems => {
        setItems(prev => [...prev, ...newItems]);
        setPage(p => p + 1);
      });
    }
  }, [isBottom]);

  return (
    <div>
      {items.map(item => <ItemCard key={item.id} {...item} />)}
      <div ref={bottomRef} style={{ height: 20 }} />
    </div>
  );
}
```

<Callout type="success" title="ì„±ëŠ¥ ìµœì í™”ì˜ ê¸°ë³¸">
  `IntersectionObserver`ëŠ” ìŠ¤í¬ë¡¤ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë³´ë‹¤ í›¨ì”¬ íš¨ìœ¨ì ì…ë‹ˆë‹¤. 
  ë¸Œë¼ìš°ì €ê°€ ìµœì í™”ëœ ë°©ì‹ìœ¼ë¡œ í™”ë©´ ë‚´ ìš”ì†Œë¥¼ ê°ì§€í•˜ê¸° ë•Œë¬¸ì´ì£ .
</Callout>

## 6. Custom Hooksì˜ ì•ˆí‹°íŒ¨í„´ê³¼ ì˜¬ë°”ë¥¸ ì²˜ë¦¬ë²•

Hookì´ ë§ŒëŠ¥ì€ ì•„ë‹™ë‹ˆë‹¤. ì˜ëª» ì‚¬ìš©í•˜ë©´ ì˜¤íˆë ¤ ì½”ë“œë¥¼ ë” ë³µì¡í•˜ê²Œ ë§Œë“¤ì£ .

### ì•ˆí‹°íŒ¨í„´ 1: ì‹ ì´ ëœ Hook (God Hook)

**ë¬¸ì œ:** í•˜ë‚˜ì˜ Hookì— ë„ˆë¬´ ë§ì€ ì±…ì„ì„ ë¶€ì—¬í•˜ëŠ” ê²½ìš°ì…ë‹ˆë‹¤.

```tsx
// âŒ ë‚˜ìœ ì˜ˆ: ëª¨ë“  ê²ƒì„ í•˜ëŠ” Hook
function useEverything() {
  const [user, setUser] = useState(null);
  const [theme, setTheme] = useState('light');
  const [notifications, setNotifications] = useState([]);
  const [cart, setCart] = useState([]);
  const [preferences, setPreferences] = useState({});
  
  // 100ì¤„ì´ ë„˜ëŠ” ë¡œì§...
  
  return { user, theme, notifications, cart, preferences, /* ìˆ˜ë§ì€ í•¨ìˆ˜ë“¤... */ };
}
```

**í•´ê²°:** **ë‹¨ì¼ ì±…ì„ ì›ì¹™(SRP)** ì„ ë”°ë¥´ì„¸ìš”. Hookë„ í•¨ìˆ˜ì…ë‹ˆë‹¤. í•˜ë‚˜ì˜ ì¼ë§Œ ì˜í•˜ë©´ ë©ë‹ˆë‹¤.

```tsx
// âœ… ì¢‹ì€ ì˜ˆ: ì±…ì„ì„ ë¶„ë¦¬
function useAuth() {
  const [user, setUser] = useState(null);
  // ì¸ì¦ ê´€ë ¨ ë¡œì§ë§Œ
  return { user, login, logout };
}

function useTheme() {
  const [theme, setTheme] = useLocalStorage('theme', 'light');
  // í…Œë§ˆ ê´€ë ¨ ë¡œì§ë§Œ
  return { theme, toggleTheme };
}

function useCart() {
  const [items, setItems] = useState([]);
  // ì¥ë°”êµ¬ë‹ˆ ë¡œì§ë§Œ
  return { items, addToCart, removeFromCart };
}
```

<Callout type="warning" title="ë¦¬íŒ©í† ë§ ì‹œì ">
  Hookì´ **50ì¤„ì„ ë„˜ì–´ê°€ê±°ë‚˜**, **ë°˜í™˜ê°’ì´ 5ê°œ ì´ìƒ**ì´ë¼ë©´ ë¶„ë¦¬ë¥¼ ê³ ë ¤í•˜ì„¸ìš”. 
  "ì´ Hookì€ ì •í™•íˆ ë¬´ì—‡ì„ ë‹´ë‹¹í•˜ëŠ”ê°€?"ë¥¼ í•œ ë¬¸ì¥ìœ¼ë¡œ ì„¤ëª…í•  ìˆ˜ ì—†ë‹¤ë©´ ë„ˆë¬´ ë§ì€ ì¼ì„ í•˜ê³  ìˆëŠ” ê²ë‹ˆë‹¤.
</Callout>

### ì•ˆí‹°íŒ¨í„´ 2: ì¡°ê±´ë¶€ Hook í˜¸ì¶œ

**ë¬¸ì œ:** Hookì„ ì¡°ê±´ë¬¸ ì•ˆì—ì„œ í˜¸ì¶œí•˜ë©´ Reactì˜ Hook ê·œì¹™ì„ ìœ„ë°˜í•©ë‹ˆë‹¤.

```tsx
// âŒ ë‚˜ìœ ì˜ˆ: ì¡°ê±´ë¶€ Hook
function UserProfile({ userId }) {
  if (!userId) return null; // âš ï¸ ì—¬ê¸°ì„œ ë¦¬í„´í•˜ë©´...
  
  const user = useUser(userId); // Hookì´ ê±´ë„ˆë›°ì–´ì§ˆ ìˆ˜ ìˆìŒ!
  return <div>{user.name}</div>;
}
```

**í•´ê²°:** Hookì€ **í•­ìƒ ìµœìƒìœ„ ë ˆë²¨**ì—ì„œ í˜¸ì¶œí•˜ê³ , ì¡°ê±´ì€ ê·¸ ì•ˆì—ì„œ ì²˜ë¦¬í•˜ì„¸ìš”.

```tsx
// âœ… ì¢‹ì€ ì˜ˆ
function UserProfile({ userId }) {
  const user = useUser(userId); // í•­ìƒ í˜¸ì¶œ
  
  if (!userId || !user) return null; // ì¡°ê±´ì€ ë‚˜ì¤‘ì—
  return <div>{user.name}</div>;
}

// ë˜ëŠ” Hook ë‚´ë¶€ì—ì„œ ì²˜ë¦¬
function useUser(userId: string | null) {
  const [user, setUser] = useState(null);
  
  useEffect(() => {
    if (!userId) return; // Hook ë‚´ë¶€ì—ì„œì˜ ì¡°ê±´ì€ OK
    fetchUser(userId).then(setUser);
  }, [userId]);
  
  return user;
}
```

### ì•ˆí‹°íŒ¨í„´ 3: ê³¼ë„í•œ ì¶”ìƒí™”

**ë¬¸ì œ:** 2ì¤„ì§œë¦¬ ë¡œì§ì„ Hookìœ¼ë¡œ ë§Œë“¤ë©´ ì˜¤íˆë ¤ ì½”ë“œê°€ ë³µì¡í•´ì§‘ë‹ˆë‹¤.

```tsx
// âŒ ë‚˜ìœ ì˜ˆ: ë¶ˆí•„ìš”í•œ ì¶”ìƒí™”
function useCounter() {
  const [count, setCount] = useState(0);
  return { count, setCount };
}

// ì´ê±´ ê·¸ëƒ¥ useStateë¥¼ ì§ì ‘ ì“°ëŠ” ê²Œ ë‚˜ì•„ìš”!
```

**í•´ê²°:** **ì¬ì‚¬ìš©ì„±**ê³¼ **ë³µì¡ì„±**ì„ ê³ ë ¤í•˜ì„¸ìš”.

<Tabs defaultValue="when-extract">
  <TabsList>
    <TabsTrigger value="when-extract">Hookìœ¼ë¡œ ì¶”ì¶œí•´ì•¼ í•  ë•Œ</TabsTrigger>
    <TabsTrigger value="when-not">ì¶”ì¶œí•˜ì§€ ë§ì•„ì•¼ í•  ë•Œ</TabsTrigger>
  </TabsList>
  
  <TabsContent value="when-extract">
    - **3ê°œ ì´ìƒì˜ ì»´í¬ë„ŒíŠ¸**ì—ì„œ ê°™ì€ ë¡œì§ì„ ì‚¬ìš©í•  ë•Œ
    - **ë³µì¡í•œ ìƒíƒœ ê´€ë¦¬**ê°€ í•„ìš”í•  ë•Œ (ì—¬ëŸ¬ `useState`, `useEffect` ì¡°í•©)
    - **ë¶€ìˆ˜íš¨ê³¼(Side Effect)** ê°€ ìˆê³ , cleanupì´ í•„ìš”í•  ë•Œ
    - **ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§**ê³¼ **UI ë¡œì§**ì„ ë¶„ë¦¬í•˜ê³  ì‹¶ì„ ë•Œ
    
    ```tsx
    // âœ… ì´ëŸ° ê²½ìš°ëŠ” ì¶”ì¶œí•˜ì„¸ìš”
    function useWebSocket(url: string) {
      const [data, setData] = useState(null);
      const [status, setStatus] = useState('disconnected');
      
      useEffect(() => {
        const ws = new WebSocket(url);
        ws.onopen = () => setStatus('connected');
        ws.onmessage = (e) => setData(JSON.parse(e.data));
        ws.onerror = () => setStatus('error');
        ws.onclose = () => setStatus('disconnected');
        
        return () => ws.close(); // cleanup í•„ìš”
      }, [url]);
      
      return { data, status };
    }
    ```
  </TabsContent>
  
  <TabsContent value="when-not">
    - **í•œ ê³³ì—ì„œë§Œ** ì‚¬ìš©í•˜ëŠ” ë¡œì§
    - **ë‹¨ìˆœí•œ ìƒíƒœ**ë§Œ ë‹¤ë£° ë•Œ (useState 1~2ê°œ)
    - **ë¶€ìˆ˜íš¨ê³¼ê°€ ì—†ëŠ”** ë‹¨ìˆœ ê³„ì‚°
    
    ```tsx
    // âŒ ì´ëŸ° ê±´ ê·¸ëƒ¥ ì¸ë¼ì¸ìœ¼ë¡œ ë‘ì„¸ìš”
    function MyComponent() {
      // êµ³ì´ useToggle() ê°™ì€ Hook ë§Œë“¤ í•„ìš” ì—†ìŒ
      const [isOpen, setIsOpen] = useState(false);
      const toggle = () => setIsOpen(prev => !prev);
      
      return <button onClick={toggle}>{isOpen ? 'ì—´ë¦¼' : 'ë‹«í˜'}</button>;
    }
    ```
  </TabsContent>
</Tabs>

### ì•ˆí‹°íŒ¨í„´ 4: ì˜ì¡´ì„± ë°°ì—´ ë¬´ì‹œí•˜ê¸°

**ë¬¸ì œ:** ESLint ê²½ê³ ë¥¼ ë¬´ì‹œí•˜ê³  ì˜ì¡´ì„± ë°°ì—´ì„ ë¹„ìš°ê±°ë‚˜ ì˜ëª» ì„¤ì •í•˜ëŠ” ê²½ìš°ì…ë‹ˆë‹¤.

```tsx
// âŒ ë‚˜ìœ ì˜ˆ
function UserList() {
  const [users, setUsers] = useState([]);
  const [filter, setFilter] = useState('');

  useEffect(() => {
    fetchUsers(filter).then(setUsers);
    // eslint-disable-next-line react-hooks/exhaustive-deps
  }, []); // âš ï¸ filterê°€ ë³€ê²½ë˜ì–´ë„ ì¬ì‹¤í–‰ ì•ˆ ë¨!

  return <div>{/* ... */}</div>;
}
```

**í•´ê²°:** ì˜ì¡´ì„± ë°°ì—´ì„ ì •ì§í•˜ê²Œ ì‘ì„±í•˜ê±°ë‚˜, í•¨ìˆ˜ë¥¼ Hook ë‚´ë¶€ë¡œ ì´ë™í•˜ì„¸ìš”.

```tsx
// âœ… ì¢‹ì€ ì˜ˆ 1: ì˜ì¡´ì„± ëª…ì‹œ
useEffect(() => {
  fetchUsers(filter).then(setUsers);
}, [filter]); // filter ë³€ê²½ ì‹œ ì¬ì‹¤í–‰

// âœ… ì¢‹ì€ ì˜ˆ 2: useCallback í™œìš©
const fetchData = useCallback(() => {
  fetchUsers(filter).then(setUsers);
}, [filter]);

useEffect(() => {
  fetchData();
}, [fetchData]);
```

## 7. Next.jsì™€ Server Components ì‹œëŒ€ì˜ Hooks

Next.js 13+ (App Router)ëŠ” Reactì˜ íŒ¨ëŸ¬ë‹¤ì„ì„ ë°”ê¿¨ìŠµë‹ˆë‹¤. 
**Server Components**ê°€ ê¸°ë³¸ì´ ë˜ë©´ì„œ, Hooks ì‚¬ìš©ì—ë„ ë³€í™”ê°€ ìƒê²¼ì£ .

### í•µì‹¬ ê·œì¹™: HooksëŠ” Clientì—ì„œë§Œ

Server Componentsì—ì„œëŠ” **Hookì„ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤**. 
ì™œëƒí•˜ë©´ ì„œë²„ëŠ” ìƒíƒœ(state)ë¥¼ ê°€ì§ˆ ìˆ˜ ì—†ê¸° ë•Œë¬¸ì´ì£ .

```tsx
// âŒ ë‚˜ìœ ì˜ˆ: Server Componentì—ì„œ Hook ì‚¬ìš©
// app/page.tsx (ê¸°ë³¸ì ìœ¼ë¡œ Server Component)
export default function Page() {
  const [count, setCount] = useState(0); // ğŸš¨ ì—ëŸ¬!
  return <div>{count}</div>;
}
```

**í•´ê²°:** `'use client'` ì§€ì‹œì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ Client Componentë¡œ ëª…ì‹œí•˜ì„¸ìš”.

```tsx
// âœ… ì¢‹ì€ ì˜ˆ: Client Componentë¡œ ë¶„ë¦¬
// app/components/Counter.tsx
'use client';

export default function Counter() {
  const [count, setCount] = useState(0); // âœ… OK
  return <button onClick={() => setCount(c => c + 1)}>{count}</button>;
}
```

<Callout type="note" title="Server vs Client ê²½ê³„ ì„¤ì •">
  ëª¨ë“  ì»´í¬ë„ŒíŠ¸ë¥¼ Client Componentë¡œ ë§Œë“¤ í•„ìš”ëŠ” ì—†ìŠµë‹ˆë‹¤. 
  **ìƒí˜¸ì‘ìš©ì´ í•„ìš”í•œ ë¶€ë¶„ë§Œ** `'use client'`ë¡œ ë¶„ë¦¬í•˜ê³ , ë‚˜ë¨¸ì§€ëŠ” Server Componentë¡œ ë‘ëŠ” ê²ƒì´ ì„±ëŠ¥ìƒ ìœ ë¦¬í•©ë‹ˆë‹¤.
</Callout>

### íŒ¨í„´: Serverì—ì„œ ë°ì´í„°, Clientì—ì„œ ìƒí˜¸ì‘ìš©

ê°€ì¥ íš¨ìœ¨ì ì¸ êµ¬ì¡°ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:

```tsx
// app/users/page.tsx (Server Component)
async function UsersPage() {
  // ì„œë²„ì—ì„œ ë°ì´í„° í˜ì¹­ (Hook ì—†ì´ ì§ì ‘ fetch)
  const users = await fetch('https://api.example.com/users').then(r => r.json());
  
  // Client Componentì— ë°ì´í„° ì „ë‹¬
  return <UserList initialUsers={users} />;
}

// app/users/UserList.tsx (Client Component)
'use client';

export function UserList({ initialUsers }) {
  // Clientì—ì„œë§Œ ìƒíƒœ ê´€ë¦¬
  const [users, setUsers] = useState(initialUsers);
  const [filter, setFilter] = useState('');
  
  const filteredUsers = users.filter(u => u.name.includes(filter));
  
  return (
    <>
      <input value={filter} onChange={e => setFilter(e.target.value)} />
      {filteredUsers.map(user => <UserCard key={user.id} {...user} />)}
    </>
  );
}
```

<div className="my-6">

```mermaid
graph LR
    A[Server Component] -->|ì´ˆê¸° ë°ì´í„°| B[Client Component]
    B -->|Hooksë¡œ ìƒíƒœ ê´€ë¦¬| C[ì‚¬ìš©ì ìƒí˜¸ì‘ìš©]
    C -->|í•„ìš”ì‹œ| D[Server Action í˜¸ì¶œ]
    D -->|ë°ì´í„° ì¬ê²€ì¦| A
```

</div>

### Server Actionsì™€ Custom Hooksì˜ ì¡°í•©

Server Actions(ì„œë²„ í•¨ìˆ˜)ì™€ Custom Hooksë¥¼ ì¡°í•©í•˜ë©´ ê°•ë ¥í•©ë‹ˆë‹¤.

```tsx
// app/actions/user.ts (Server Action)
'use server';

export async function createUser(formData: FormData) {
  const name = formData.get('name');
  // DB ì €ì¥ ë¡œì§
  await db.user.create({ data: { name } });
  revalidatePath('/users');
}

// hooks/useFormSubmit.ts (Client Hook)
'use client';

export function useFormSubmit(action: (data: FormData) => Promise<void>) {
  const [isPending, setIsPending] = useState(false);
  const [error, setError] = useState<string | null>(null);

  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {
    e.preventDefault();
    setIsPending(true);
    setError(null);

    try {
      const formData = new FormData(e.currentTarget);
      await action(formData);
    } catch (err) {
      setError(err instanceof Error ? err.message : 'Unknown error');
    } finally {
      setIsPending(false);
    }
  };

  return { handleSubmit, isPending, error };
}

// components/CreateUserForm.tsx (Client Component)
'use client';

import { createUser } from '@/app/actions/user';
import { useFormSubmit } from '@/hooks/useFormSubmit';

export function CreateUserForm() {
  const { handleSubmit, isPending, error } = useFormSubmit(createUser);

  return (
    <form onSubmit={handleSubmit}>
      <input name="name" required />
      <button disabled={isPending}>
        {isPending ? 'ì €ì¥ ì¤‘...' : 'ì €ì¥'}
      </button>
      {error && <p className="error">{error}</p>}
    </form>
  );
}
```

<Callout type="success" title="Best Practice">
  - **ì„œë²„**: ë°ì´í„° í˜ì¹­, DB ì ‘ê·¼, ì¸ì¦ í™•ì¸ (Server Components, Server Actions)
  - **í´ë¼ì´ì–¸íŠ¸**: ì‚¬ìš©ì ì…ë ¥, ì• ë‹ˆë©”ì´ì…˜, ì¦‰ê°ì ì¸ í”¼ë“œë°± (Client Components, Custom Hooks)
  
  ì´ ê²½ê³„ë¥¼ ëª…í™•íˆ í•˜ë©´ ì„±ëŠ¥ê³¼ ë³´ì•ˆì„ ë™ì‹œì— ì¡ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
</Callout>

## 8. Render PropsëŠ” ì£½ì—ˆë‚˜ìš”?

ì•„ë‹ˆìš”! Hooksê°€ ëŒ€ì„¸ì§€ë§Œ Render PropsëŠ” ì—¬ì „íˆ ìœ ìš©í•œ íŒ¨í„´ì…ë‹ˆë‹¤.
íŠ¹íˆ **ë¼ì´ë¸ŒëŸ¬ë¦¬ ì œì‘ì**ì—ê²ŒëŠ” ê°•ë ¥í•œ ë„êµ¬ì…ë‹ˆë‹¤.

ì˜ˆë¥¼ ë“¤ì–´, ë¦¬ìŠ¤íŠ¸ ê°€ìƒí™” ë¼ì´ë¸ŒëŸ¬ë¦¬(`react-window`)ë‚˜ ë“œë˜ê·¸ ì•¤ ë“œë¡­ ë¼ì´ë¸ŒëŸ¬ë¦¬(`react-beautiful-dnd`)ë¥¼ ë³´ì„¸ìš”.
ì´ë“¤ì€ **"ë‚´ë¶€ ë¡œì§ì€ ë‚´ê°€ ì²˜ë¦¬í• ê²Œ, ê° í•­ëª©ì„ ì–´ë–»ê²Œ ê·¸ë¦´ì§€ëŠ” ë„¤ê°€ ì •í•´"** ë¼ëŠ” ì² í•™ì´ í•„ìš”í•  ë•Œ Render Propsë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

```tsx
// ì—¬ì „íˆ ìœ íš¨í•œ Render Props íŒ¨í„´ ì˜ˆì‹œ (List Virtualization)
<FixedSizeList
  height={150}
  itemCount={1000}
  itemSize={35}
  width={300}
>
  {/* ê° ì•„ì´í…œì„ ì–´ë–»ê²Œ ë Œë”ë§í• ì§€ëŠ” ì‚¬ìš©ìì—ê²Œ ìœ„ì„ */}
  {({ index, style }) => (
    <div style={style}>Row {index}</div>
  )}
</FixedSizeList>
```

### Render Propsì˜ ì•ˆí‹°íŒ¨í„´

#### ì•ˆí‹°íŒ¨í„´ 1: ë§¤ ë Œë”ë§ˆë‹¤ ìƒˆë¡œìš´ í•¨ìˆ˜ ìƒì„±

```tsx
// âŒ ë‚˜ìœ ì˜ˆ
function App() {
  const [count, setCount] = useState(0);
  
  return (
    <DataProvider 
      render={(data) => (
        <ExpensiveComponent data={data} count={count} />
      )} 
    />
  );
  // render propì´ ë§¤ë²ˆ ìƒˆë¡œ ìƒì„±ë˜ì–´ ExpensiveComponentê°€ ë¶ˆí•„ìš”í•˜ê²Œ ë¦¬ë Œë”ë§ë¨
}
```

**í•´ê²°ì±…:**

<Tabs defaultValue="useCallback">
  <TabsList>
    <TabsTrigger value="useCallback">useCallback ì‚¬ìš©</TabsTrigger>
    <TabsTrigger value="component">ë³„ë„ ì»´í¬ë„ŒíŠ¸ë¡œ ë¶„ë¦¬</TabsTrigger>
  </TabsList>
  
  <TabsContent value="useCallback">
    ```tsx
    // âœ… ì¢‹ì€ ì˜ˆ: useCallbackìœ¼ë¡œ ë©”ëª¨ì´ì œì´ì…˜
    function App() {
      const [count, setCount] = useState(0);
      
      const renderData = useCallback((data) => (
        <ExpensiveComponent data={data} count={count} />
      ), [count]); // countê°€ ë°”ë€” ë•Œë§Œ í•¨ìˆ˜ ì¬ìƒì„±
      
      return <DataProvider render={renderData} />;
    }
    ```
  </TabsContent>
  
  <TabsContent value="component">
    ```tsx
    // âœ… ë” ì¢‹ì€ ì˜ˆ: ì•„ì˜ˆ ë³„ë„ ì»´í¬ë„ŒíŠ¸ë¡œ
    function DataDisplay({ data, count }) {
      return <ExpensiveComponent data={data} count={count} />;
    }

    function App() {
      const [count, setCount] = useState(0);
      
      return (
        <DataProvider>
          {(data) => <DataDisplay data={data} count={count} />}
        </DataProvider>
      );
    }
    ```
  </TabsContent>
</Tabs>

#### ì•ˆí‹°íŒ¨í„´ 2: Children as Functionì˜ í˜¼ë€

`render` prop ëŒ€ì‹  `children`ì„ í•¨ìˆ˜ë¡œ ë°›ëŠ” íŒ¨í„´ë„ ìˆì§€ë§Œ, ì´ëŠ” ì§ê´€ì„±ì´ ë–¨ì–´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```tsx
// í—·ê°ˆë¦¬ëŠ” íŒ¨í„´
<Toggle>
  {({ on, toggle }) => (
    <button onClick={toggle}>
      {on ? 'ON' : 'OFF'}
    </button>
  )}
</Toggle>
```

**ì–¸ì œ ì‚¬ìš©í•˜ëŠ”ê°€?**

- **UI ì œì–´ê¶Œì„ 100% ìœ„ì„**í•˜ê³  ì‹¶ì„ ë•Œ (ë¼ì´ë¸ŒëŸ¬ë¦¬)
- **Hookìœ¼ë¡œ ë³€í™˜í•˜ê¸° ì–´ë ¤ìš´ ë¡œì§**ì¼ ë•Œ (ì˜ˆ: DOM ì¸¡ì •)
- **ë Œë”ë§ ìµœì í™”**ê°€ ì¤‘ìš”í•  ë•Œ (React.memoì™€ ì¡°í•©)

<Callout type="warning" title="Render Props vs Hooks, ë¬´ì—‡ì„ ì„ íƒí• ê¹Œ?">
  - **ì• í”Œë¦¬ì¼€ì´ì…˜ ì½”ë“œ**: Custom Hooks ìš°ì„  (ë” ê°„ê²°í•˜ê³  ì¡°í•©í•˜ê¸° ì‰¬ì›€)
  - **ë¼ì´ë¸ŒëŸ¬ë¦¬ ê°œë°œ**: Render Props ê³ ë ¤ (ë” ìœ ì—°í•˜ê³ , UIì— ëŒ€í•œ ê°€ì •ì´ ì—†ìŒ)
  - **ë³µì¡í•œ ì¡°ê±´ë¶€ ë Œë”ë§**: Render Propsê°€ ìœ ë¦¬í•  ìˆ˜ ìˆìŒ
</Callout>

### Render Props + Hooksì˜ í•˜ì´ë¸Œë¦¬ë“œ

ë‘˜ì„ ì„ì–´ ì“¸ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. Hookìœ¼ë¡œ ë¡œì§ì„ ì œê³µí•˜ê³ , Render Propsë¡œ ì„¸ë°€í•œ ì œì–´ë¥¼ ì¶”ê°€í•˜ëŠ” ì‹ì´ì£ .

```tsx
// Hookìœ¼ë¡œ ê¸°ë³¸ ê¸°ëŠ¥ ì œê³µ
function useToggle(initialValue = false) {
  const [on, setOn] = useState(initialValue);
  const toggle = () => setOn(prev => !prev);
  const setOff = () => setOn(false);
  const setOn = () => setOn(true);
  
  return { on, toggle, setOff, setOn };
}

// Render Propsë¡œ ë³µì¡í•œ UI ì œì–´
function Toggle({ children, defaultOn = false }) {
  const toggleState = useToggle(defaultOn);
  
  return <>{children(toggleState)}</>;
}

// ì‚¬ìš©ì²˜ì—ì„œ ì„ íƒ
function SimpleUsage() {
  const { on, toggle } = useToggle(); // Hookë§Œ ì‚¬ìš©
  return <button onClick={toggle}>{on ? 'ON' : 'OFF'}</button>;
}

function ComplexUsage() {
  // Render Propsë¡œ ë” ë³µì¡í•œ UI
  return (
    <Toggle defaultOn={false}>
      {({ on, toggle, setOff }) => (
        <div>
          <button onClick={toggle}>í† ê¸€</button>
          <button onClick={setOff}>ê°•ì œ OFF</button>
          <div className={on ? 'active' : 'inactive'}>
            ìƒíƒœ: {on ? 'í™œì„±' : 'ë¹„í™œì„±'}
          </div>
        </div>
      )}
    </Toggle>
  );
}
```

## 9. ì„±ëŠ¥ ìµœì í™”: Hooksì™€ ë¦¬ë Œë”ë§

Custom Hooksê°€ ì„±ëŠ¥ ë¬¸ì œë¥¼ ì¼ìœ¼í‚¤ëŠ” ê²½ìš°ë„ ìˆìŠµë‹ˆë‹¤. íŠ¹íˆ **ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§**ì´ ì£¼ë²”ì´ì£ .

### ë¬¸ì œ: Hookì´ ê°ì²´/ë°°ì—´ì„ ë°˜í™˜í•  ë•Œ

```tsx
// âŒ ë§¤ë²ˆ ìƒˆë¡œìš´ ê°ì²´ë¥¼ ìƒì„±
function useUser(id: string) {
  const [user, setUser] = useState(null);
  // ... fetch ë¡œì§ ...
  
  // ğŸš¨ ë§¤ ë Œë”ë§ˆë‹¤ ìƒˆë¡œìš´ ê°ì²´!
  return {
    user,
    isLoading: !user,
    refetch: () => fetchUser(id)
  };
}

function UserProfile({ userId }) {
  const userState = useUser(userId);
  
  useEffect(() => {
    console.log('ë¦¬ë Œë”ë§!');
  }, [userState]); // userStateê°€ ë§¤ë²ˆ ìƒˆ ê°ì²´ë¼ì„œ ê³„ì† ì‹¤í–‰ë¨
}
```

**í•´ê²°ì±…: useMemoì™€ useCallback**

```tsx
// âœ… ë©”ëª¨ì´ì œì´ì…˜ìœ¼ë¡œ ìµœì í™”
function useUser(id: string) {
  const [user, setUser] = useState(null);
  
  const refetch = useCallback(() => {
    fetchUser(id).then(setUser);
  }, [id]);
  
  const result = useMemo(() => ({
    user,
    isLoading: !user,
    refetch
  }), [user, refetch]); // ì˜ì¡´ì„±ì´ ë°”ë€” ë•Œë§Œ ìƒˆ ê°ì²´ ìƒì„±
  
  return result;
}
```

<Callout type="note" title="ì–¸ì œ ìµœì í™”í•´ì•¼ í•˜ë‚˜?">
  **ì¡°ê¸° ìµœì í™”ëŠ” ì•…ì˜ ê·¼ì›**ì…ë‹ˆë‹¤. ë‹¤ìŒ ê²½ìš°ì—ë§Œ `useMemo`/`useCallback`ì„ ì‚¬ìš©í•˜ì„¸ìš”:
  - Hookì´ **ìì£¼ í˜¸ì¶œë˜ëŠ” ì»´í¬ë„ŒíŠ¸**ì—ì„œ ì‚¬ìš©ë  ë•Œ
  - ë°˜í™˜ê°’ì´ ë‹¤ë¥¸ Hookì˜ **ì˜ì¡´ì„± ë°°ì—´**ì— ë“¤ì–´ê°ˆ ë•Œ
  - ìì‹ ì»´í¬ë„ŒíŠ¸ì— **propsë¡œ ì „ë‹¬**ë˜ê³ , ê·¸ ì»´í¬ë„ŒíŠ¸ê°€ `React.memo`ë¡œ ê°ì‹¸ì ¸ ìˆì„ ë•Œ
  
  ê·¸ ì™¸ì˜ ê²½ìš°, ê°€ë…ì„±ì„ ìœ„í•´ ìµœì í™”ë¥¼ ë¯¸ë£¨ëŠ” ê²ƒì´ ë‚«ìŠµë‹ˆë‹¤.
</Callout>

### React DevTools Profilerë¡œ ì¸¡ì •í•˜ê¸°

ì„±ëŠ¥ ë¬¸ì œë¥¼ **ì²´ê°**ì´ ì•„ë‹Œ **ì¸¡ì •**ìœ¼ë¡œ íŒŒì•…í•˜ì„¸ìš”.

<Steps>
  <Step title="React DevTools ì„¤ì¹˜">
    í¬ë¡¬ í™•ì¥ í”„ë¡œê·¸ë¨ "React Developer Tools" ì„¤ì¹˜
  </Step>
  <Step title="Profiler íƒ­ ì—´ê¸°">
    ê°œë°œì ë„êµ¬ì—ì„œ Profiler íƒ­ ì„ íƒ í›„ ë…¹í™” ì‹œì‘
  </Step>
  <Step title="ì˜ì‹¬ë˜ëŠ” ë™ì‘ ìˆ˜í–‰">
    ë²„íŠ¼ í´ë¦­, ì…ë ¥ ë“± ëŠë¦¬ë‹¤ê³  ìƒê°ë˜ëŠ” ë™ì‘ ì‹¤í–‰
  </Step>
  <Step title="ê²°ê³¼ ë¶„ì„">
    ì–´ë–¤ ì»´í¬ë„ŒíŠ¸ê°€ ì–¼ë§ˆë‚˜ ìì£¼, ì˜¤ë˜ ë Œë”ë§ë˜ëŠ”ì§€ í™•ì¸
  </Step>
</Steps>

## 10. ì‹¤ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸

Custom Hooksë¥¼ ë§Œë“¤ ë•Œ ì´ ë¦¬ìŠ¤íŠ¸ë¥¼ ì°¸ê³ í•˜ì„¸ìš”.

<div className="space-y-4 my-6">

### ğŸ“‹ ì„¤ê³„ ë‹¨ê³„

<Callout type="note" title="ì§ˆë¬¸ ëª©ë¡">
  - [ ] ì´ ë¡œì§ì´ **3ê³³ ì´ìƒ**ì—ì„œ ì‚¬ìš©ë˜ëŠ”ê°€?
  - [ ] Hookì˜ ì±…ì„ì„ **í•œ ë¬¸ì¥**ìœ¼ë¡œ ì„¤ëª…í•  ìˆ˜ ìˆëŠ”ê°€?
  - [ ] ë°˜í™˜ê°’ì´ **5ê°œ ì´í•˜**ì¸ê°€?
  - [ ] Hook ì´ë¦„ì´ `use`ë¡œ ì‹œì‘í•˜ëŠ”ê°€?
  - [ ] TypeScript íƒ€ì…ì´ ëª…í™•í•œê°€?
</Callout>

### ğŸ” êµ¬í˜„ ë‹¨ê³„

<Callout type="warning" title="ì£¼ì˜ì‚¬í•­">
  - [ ] **ì¡°ê±´ë¶€ë¡œ** Hookì„ í˜¸ì¶œí•˜ì§€ ì•Šì•˜ëŠ”ê°€?
  - [ ] ì˜ì¡´ì„± ë°°ì—´ì„ **ì •ì§í•˜ê²Œ** ì‘ì„±í–ˆëŠ”ê°€?
  - [ ] ESLint ê²½ê³ ë¥¼ **ë¬´ì‹œí•˜ì§€ ì•Šì•˜ëŠ”ê°€**?
  - [ ] cleanup í•¨ìˆ˜ê°€ í•„ìš”í•œ `useEffect`ëŠ” **ë°˜í™˜**í•˜ê³  ìˆëŠ”ê°€?
  - [ ] SSRì„ ê³ ë ¤í–ˆëŠ”ê°€? (`typeof window` ì²´í¬)
</Callout>

### âš¡ ìµœì í™” ë‹¨ê³„

<Callout type="success" title="ì„±ëŠ¥ ì²´í¬">
  - [ ] ê°ì²´/ë°°ì—´ì„ ë°˜í™˜í•œë‹¤ë©´ `useMemo`ë¥¼ ê³ ë ¤í–ˆëŠ”ê°€?
  - [ ] ì½œë°± í•¨ìˆ˜ë¥¼ ë°˜í™˜í•œë‹¤ë©´ `useCallback`ì„ ì‚¬ìš©í–ˆëŠ”ê°€?
  - [ ] React DevTools Profilerë¡œ **ì¸¡ì •**í–ˆëŠ”ê°€?
  - [ ] ë¶ˆí•„ìš”í•œ ì¡°ê¸° ìµœì í™”ë¥¼ í•˜ì§€ ì•Šì•˜ëŠ”ê°€?
</Callout>

</div>

## 11. í”„ë ˆì„ì›Œí¬ë³„ íŠ¹ì´ì‚¬í•­ ì •ë¦¬

<Tabs defaultValue="nextjs">
  <TabsList>
    <TabsTrigger value="nextjs">Next.js</TabsTrigger>
    <TabsTrigger value="remix">Remix</TabsTrigger>
    <TabsTrigger value="react-native">React Native</TabsTrigger>
  </TabsList>
  
  <TabsContent value="nextjs">
    ### Next.js (App Router)
    
    **Server Components ê¸°ë³¸:**
    - HooksëŠ” **Client Components**ì—ì„œë§Œ ì‚¬ìš© ê°€ëŠ¥
    - `'use client'` ì§€ì‹œì–´ í•„ìˆ˜
    - Server Actionsì™€ ì¡°í•©í•˜ì—¬ ì‚¬ìš©
    
    **ì£¼ì˜ì‚¬í•­:**
    ```tsx
    // âŒ Server Componentì—ì„œ Hook ë¶ˆê°€
    export default function Page() {
      const [state, setState] = useState(0); // ì—ëŸ¬!
    }
    
    // âœ… Client Componentë¡œ ë¶„ë¦¬
    'use client';
    export default function ClientPage() {
      const [state, setState] = useState(0); // OK
    }
    ```
    
    **ë°ì´í„° í˜ì¹­:**
    - Server: `fetch` ë˜ëŠ” `async/await` ì§ì ‘ ì‚¬ìš©
    - Client: `useQuery` (React Query), `useSWR` (SWR) ì¶”ì²œ
  </TabsContent>
  
  <TabsContent value="remix">
    ### Remix
    
    **Loader ê¸°ë°˜ ë°ì´í„° í˜ì¹­:**
    - `useLoaderData()`: ì„œë²„ì—ì„œ í˜ì¹­í•œ ë°ì´í„°ë¥¼ ë°›ì•„ì˜´
    - `useActionData()`: Form Actionì˜ ê²°ê³¼ë¥¼ ë°›ì•„ì˜´
    - `useNavigation()`: í˜ì´ì§€ ì „í™˜ ìƒíƒœ í™•ì¸
    
    ```tsx
    // Remix ìŠ¤íƒ€ì¼
    export async function loader() {
      return json({ users: await db.user.findMany() });
    }
    
    export default function UsersPage() {
      const { users } = useLoaderData<typeof loader>();
      // ì´ë¯¸ ì„œë²„ì—ì„œ í˜ì¹­ ì™„ë£Œ!
    }
    ```
    
    **Custom Hooksì™€ì˜ ì¡°í•©:**
    - í´ë¼ì´ì–¸íŠ¸ ìƒíƒœ ê´€ë¦¬ìš©ìœ¼ë¡œ Custom Hooks ì‚¬ìš©
    - ì„œë²„ ë°ì´í„°ëŠ” Loaderì—ì„œ ì²˜ë¦¬
  </TabsContent>
  
  <TabsContent value="react-native">
    ### React Native
    
    **í”Œë«í¼ íŠ¹í™” Hooks:**
    - `useWindowDimensions()`: í™”ë©´ í¬ê¸° (ë°˜ì‘í˜•)
    - `useColorScheme()`: ë‹¤í¬ëª¨ë“œ ê°ì§€
    - `BackHandler`: Android ë’·ë²„íŠ¼ ì²˜ë¦¬
    
    **ì£¼ì˜ì‚¬í•­:**
    - `window`, `document` ê°™ì€ ì›¹ API ì—†ìŒ
    - `localStorage` ëŒ€ì‹  `AsyncStorage` ì‚¬ìš©
    - ë„¤ì´í‹°ë¸Œ ëª¨ë“ˆ ì ‘ê·¼ ì‹œ ë¹„ë™ê¸° ì²˜ë¦¬ í•„ìš”
    
    ```tsx
    // React Native ì „ìš© Hook ì˜ˆì‹œ
    function useKeyboard() {
      const [isVisible, setIsVisible] = useState(false);
      
      useEffect(() => {
        const showListener = Keyboard.addListener('keyboardDidShow', () => {
          setIsVisible(true);
        });
        const hideListener = Keyboard.addListener('keyboardDidHide', () => {
          setIsVisible(false);
        });
        
        return () => {
          showListener.remove();
          hideListener.remove();
        };
      }, []);
      
      return isVisible;
    }
    ```
  </TabsContent>
</Tabs>

## ë§ˆì¹˜ë©°

Custom HooksëŠ” ë¦¬ì•¡íŠ¸ê°€ ì¶”êµ¬í•˜ëŠ” **"í•©ì„±(Composition)"**ì˜ ì² í•™ì„ ê°€ì¥ ì˜ ë³´ì—¬ì£¼ëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤. 
UIì™€ ë¡œì§ì„ ì™„ë²½í•˜ê²Œ ë¶„ë¦¬í•  ìˆ˜ ìˆê²Œ í•´ì£¼ê¸° ë•Œë¬¸ì´ì£ .

### í•µì‹¬ ìš”ì•½

<div className="grid grid-cols-1 md:grid-cols-3 gap-4 my-6">
  <Card title="UIì˜ ì¬ì‚¬ìš©" icon={<Icon name="Component" className="text-blue-500" />}>
    ì»´í¬ë„ŒíŠ¸ë¡œ ì‹œê°ì  ìš”ì†Œë¥¼ ì¬ì‚¬ìš©í•©ë‹ˆë‹¤.
  </Card>
  <Card title="ë¡œì§ì˜ ì¬ì‚¬ìš©" icon={<Icon name="Code2" className="text-green-500" />}>
    Custom Hooksë¡œ ìƒíƒœ ë¡œì§ì„ ì¬ì‚¬ìš©í•©ë‹ˆë‹¤.
  </Card>
  <Card title="ì œì–´ê¶Œì˜ ìœ„ì„" icon={<Icon name="Workflow" className="text-purple-500" />}>
    Render Propsë¡œ ë Œë”ë§ ì œì–´ë¥¼ ìœ„ì„í•©ë‹ˆë‹¤.
  </Card>
</div>

ì´ ì„¸ ê°€ì§€ ë„êµ¬ë¥¼ ì ì¬ì ì†Œì— êº¼ë‚´ ì“¸ ì¤„ ì•„ëŠ” ê²ƒì´ ìˆ™ë ¨ëœ ë¦¬ì•¡íŠ¸ ê°œë°œìì˜ ì¦ê±°ì…ë‹ˆë‹¤.

### ê¸°ì–µí•´ì•¼ í•  ì›ì¹™ë“¤

1. **DRY (Don't Repeat Yourself)**: ê°™ì€ ë¡œì§ì´ 3ë²ˆ ë°˜ë³µë˜ë©´ Hookìœ¼ë¡œ ì¶”ì¶œí•˜ë¼
2. **KISS (Keep It Simple, Stupid)**: 2ì¤„ì§œë¦¬ ë¡œì§ê¹Œì§€ Hookìœ¼ë¡œ ë§Œë“¤ì§€ëŠ” ë§ë¼
3. **SRP (Single Responsibility)**: Hook í•˜ë‚˜ëŠ” í•œ ê°€ì§€ ì¼ë§Œ í•˜ë¼
4. **ì¸¡ì • í›„ ìµœì í™”**: ì²´ê°ì´ ì•„ë‹Œ Profilerë¡œ ì¸¡ì •í•˜ë¼
5. **Serverì™€ Client êµ¬ë¶„**: Next.jsì—ì„œëŠ” ì–´ë””ì„œ Hookì„ ì“°ëŠ”ì§€ê°€ ì¤‘ìš”í•˜ë‹¤

<Blockquote author="Dan Abramov" cite="React Hooks RFC">
  Hooks let you use state and other React features without writing a class. They're the future of React.
</Blockquote>

Hookì€ í´ë˜ìŠ¤ ì—†ì´ ë¦¬ì•¡íŠ¸ì˜ ëª¨ë“  ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ê²Œ í•´ì¤ë‹ˆë‹¤. ê·¸ë¦¬ê³  ê·¸ê²ƒì´ ë¦¬ì•¡íŠ¸ì˜ ë¯¸ë˜ì…ë‹ˆë‹¤.

<Steps>
  <Step title="ë°˜ë³µë˜ëŠ” ë¡œì§ ì°¾ê¸°">
    `useState`ì™€ `useEffect`ê°€ ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ì—ì„œ ë˜‘ê°™ì´ ì“°ì´ê³  ìˆë‚˜ìš”?
  </Step>
  <Step title="Hookìœ¼ë¡œ ì¶”ì¶œí•˜ê¸°">
    `use`ë¡œ ì‹œì‘í•˜ëŠ” í•¨ìˆ˜ë¥¼ ë§Œë“¤ê³  ë¡œì§ì„ ì˜®ê¸°ì„¸ìš”. ì±…ì„ì€ í•˜ë‚˜ë§Œ!
  </Step>
  <Step title="íƒ€ì…ê³¼ ì—ëŸ¬ ì²˜ë¦¬">
    TypeScriptë¡œ íƒ€ì…ì„ ëª…í™•íˆ í•˜ê³ , ì—ëŸ¬ ì¼€ì´ìŠ¤ë¥¼ ì²˜ë¦¬í•˜ì„¸ìš”.
  </Step>
  <Step title="ë‹¨ìˆœí•´ì§„ ì»´í¬ë„ŒíŠ¸ ì¦ê¸°ê¸°">
    ì´ì œ ì»´í¬ë„ŒíŠ¸ëŠ” UI ë Œë”ë§ì´ë¼ëŠ” ë³¸ì—°ì˜ ì„ë¬´ì—ë§Œ ì§‘ì¤‘í•˜ë©´ ë©ë‹ˆë‹¤.
  </Step>
</Steps>

<Callout type="success" title="ë‹¤ìŒ ë‹¨ê³„">
  ì´ì œ ì—¬ëŸ¬ë¶„ì˜ í”„ë¡œì íŠ¸ì—ì„œ ë°˜ë³µë˜ëŠ” ë¡œì§ì„ ì°¾ì•„ë³´ì„¸ìš”. 
  `useState`ì™€ `useEffect`ê°€ ì—¬ëŸ¬ ê³³ì—ì„œ ë˜‘ê°™ì´ ì“°ì´ê³  ìˆë‹¤ë©´, ê·¸ê²ƒì´ ë°”ë¡œ Custom Hookìœ¼ë¡œ ì¶”ì¶œí•  íƒ€ì´ë°ì…ë‹ˆë‹¤.
</Callout>

